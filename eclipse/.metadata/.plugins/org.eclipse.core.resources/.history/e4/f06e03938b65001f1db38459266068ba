package Basil.module.misc;

import java.util.ArrayList;
import java.util.LinkedList;
import java.util.List;
import java.util.Queue;

import org.lwjgl.input.Keyboard;

import Basil.Client;
import Basil.module.*;
import Basil.module.Module;
import Basil.utils.Invoker;
import de.Hero.settings.Setting;
import net.minecraft.entity.Entity;

public class PVPFlagCheck extends Module{
	
	Queue<Entity> checkQueueEntity = new LinkedList<>();
	Queue<Long> checkQueueTime = new LinkedList<>();
	
	public PVPFlagCheck() {
		super("PVPFlagCheck", -1, Category.MISC);
	}
	
	public void onSetup() {
		Client.sm.rSetting(new Setting("Check Delay", this, 500, 100, 1000, true));
	}
	
	public void onFrame() {
		if (isToggled()) {
			boolean f = true;
			while (f) {
				long nextTime = checkQueueTime.peek();
				if (nextTime <= System.currentTimeMillis()) {
					long time = checkQueueTime.remove();
					Entity e = checkQueueEntity.remove();
				}else {
					f = false;
				}
			}
		}
	}
	
	public void entityAttackedByPlayer(Entity t) {
		if (isToggled()) {
			checkQueueEntity.add(t);
			checkQueueTime.add((long) (System.currentTimeMillis() + Client.sm.getSettingsByMod(this).get(0).getValDouble()));
		}
	}
}
